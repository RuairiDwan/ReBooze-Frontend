{"ast":null,"code":"import { SUBMIT_RATING } from '../actions/ratings/submitRating';\nimport { RETRIEVE_RATINGS } from '../actions/ratings/retrieveRatings';\nimport { RETRIEVE_VOTES } from '../actions/ratings/retrieveVotes';\nimport { UP_VOTE } from '../actions/ratings/vote';\nexport default function ratings(state = [], action) {\n  console.log('Action Type', action.type);\n\n  switch (action.type) {\n    case SUBMIT_RATING:\n      console.log('Submitting Rating');\n      return state.concat([action.rating]);\n\n    case RETRIEVE_RATINGS:\n      console.log(\"Retrieving Ratings\");\n      console.log(action.ratings);\n      return { ...state,\n        ...action.ratings\n      };\n\n    case RETRIEVE_VOTES:\n      console.log(\"Retrieving Votes\");\n      return state.ratings.ratings.map(t1 => ({ ...t1,\n        ...action.votes.find(t2 => t2.rating_id === t1.id)\n      }));\n    //return {\n    //    ...state,\n    //    ...action.votes\n    //}\n\n    case UP_VOTE:\n      console.log('Voting');\n      console.log(state);\n      return state.map(rating => rating.id !== action.vote.id ? rating : Object.assign({}, rating, {\n        vote: false\n      }));\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["C:/Users/Alphadrives/source/repos/rebooze-frontend/src/reducers/ratings.js"],"names":["SUBMIT_RATING","RETRIEVE_RATINGS","RETRIEVE_VOTES","UP_VOTE","ratings","state","action","console","log","type","concat","rating","map","t1","votes","find","t2","rating_id","id","vote","Object","assign"],"mappings":"AAAA,SAASA,aAAT,QAA6B,iCAA7B;AACA,SAASC,gBAAT,QAAiC,oCAAjC;AACA,SAASC,cAAT,QAA+B,kCAA/B;AACA,SAASC,OAAT,QAAwB,yBAAxB;AAGA,eAAe,SAASC,OAAT,CAAkBC,KAAK,GAAG,EAA1B,EAA8BC,MAA9B,EAAsC;AACjDC,EAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BF,MAAM,CAACG,IAAlC;;AAEA,UAAQH,MAAM,CAACG,IAAf;AACI,SAAKT,aAAL;AACIO,MAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;AACA,aAAOH,KAAK,CAACK,MAAN,CAAa,CAACJ,MAAM,CAACK,MAAR,CAAb,CAAP;;AAEJ,SAAKV,gBAAL;AACIM,MAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACF,OAAnB;AACA,aAAO,EACH,GAAGC,KADA;AAEH,WAAGC,MAAM,CAACF;AAFP,OAAP;;AAKJ,SAAKF,cAAL;AACIK,MAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACA,aAAOH,KAAK,CAACD,OAAN,CAAcA,OAAd,CAAsBQ,GAAtB,CAA0BC,EAAE,KAAK,EAAC,GAAGA,EAAJ;AAAQ,WAAGP,MAAM,CAACQ,KAAP,CAAaC,IAAb,CAAkBC,EAAE,IAAIA,EAAE,CAACC,SAAH,KAAiBJ,EAAE,CAACK,EAA5C;AAAX,OAAL,CAA5B,CAAP;AACA;AACA;AACA;AACA;;AAEJ,SAAKf,OAAL;AACII,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACA,aAAOA,KAAK,CAACO,GAAN,CAAWD,MAAD,IAAYA,MAAM,CAACO,EAAP,KAAcZ,MAAM,CAACa,IAAP,CAAYD,EAA1B,GAA+BP,MAA/B,GACzBS,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBV,MAAlB,EAA0B;AAAEQ,QAAAA,IAAI,EAAE;AAAR,OAA1B,CADG,CAAP;;AAIJ;AACI,aAAOd,KAAP;AA7BR;AA+BH","sourcesContent":["import { SUBMIT_RATING} from '../actions/ratings/submitRating'\r\nimport { RETRIEVE_RATINGS } from '../actions/ratings/retrieveRatings'\r\nimport { RETRIEVE_VOTES } from '../actions/ratings/retrieveVotes'\r\nimport { UP_VOTE } from '../actions/ratings/vote'\r\n\r\n\r\nexport default function ratings (state = [], action) {\r\n    console.log('Action Type', action.type)\r\n    \r\n    switch (action.type) {\r\n        case SUBMIT_RATING :\r\n            console.log('Submitting Rating')\r\n            return state.concat([action.rating])\r\n        \r\n        case RETRIEVE_RATINGS :\r\n            console.log(\"Retrieving Ratings\")\r\n            console.log(action.ratings)\r\n            return {\r\n                ...state,\r\n                ...action.ratings\r\n            }\r\n\r\n        case RETRIEVE_VOTES:\r\n            console.log(\"Retrieving Votes\")\r\n            return state.ratings.ratings.map(t1 => ({...t1, ...action.votes.find(t2 => t2.rating_id === t1.id)}))\r\n            //return {\r\n            //    ...state,\r\n            //    ...action.votes\r\n            //}\r\n\r\n        case UP_VOTE:\r\n            console.log('Voting')\r\n            console.log(state)\r\n            return state.map((rating) => rating.id !== action.vote.id ? rating :\r\n                Object.assign({}, rating, { vote: false }))\r\n\r\n            \r\n        default :\r\n            return state\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}